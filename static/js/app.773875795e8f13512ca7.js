webpackJsonp([6],{116:function(t,n){},118:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{attrs:{id:"app"}},[o("transition",{attrs:{name:t.transitionName}},[o("router-view",{staticClass:"view"})],1)],1)},staticRenderFns:[]}},13:function(t,n,o){"use strict";o.d(n,"c",function(){return e}),o.d(n,"d",function(){return a}),o.d(n,"e",function(){return i}),o.d(n,"f",function(){return c}),o.d(n,"a",function(){return s}),o.d(n,"b",function(){return r});var e="SET_ACTIVE_TAB",a="UPDATE_LIST",i="UPDATE_SCROLL_TOP",c="SET_IS_LOADING",s="SET_USER_INFO",r="LOGOUT"},26:function(t,n,o){"use strict";var e=o(16),a=o(63),i=o(85),c=o(86),s=o(87);e.a.use(a.a),n.a=new a.a.Store({actions:i,modules:{topic:c.a,user:s.a}})},47:function(t,n,o){"use strict";var e=o(16),a=o(119),i=o(26),c=o(13);e.a.use(a.a),a.a.prototype.goBack=function(){this.isBack=!0,this.go(-1)};var s=new a.a({routes:[{path:"/",component:function(t){return o.e(1).then(function(){var n=[o(124)];t.apply(null,n)}.bind(this)).catch(o.oe)}},{path:"/login",name:"login",component:function(t){return o.e(4).then(function(){var n=[o(125)];t.apply(null,n)}.bind(this)).catch(o.oe)}},{path:"/topic/:topicId",name:"topic",component:function(t){return o.e(0).then(function(){var n=[o(126)];t.apply(null,n)}.bind(this)).catch(o.oe)}},{path:"/comment/:topicId",name:"comment",component:function(t){return o.e(3).then(function(){var n=[o(123)];t.apply(null,n)}.bind(this)).catch(o.oe)}},{path:"/user/:loginname",name:"user",component:function(t){return o.e(2).then(function(){var n=[o(127)];t.apply(null,n)}.bind(this)).catch(o.oe)}}]});sessionStorage.userInfo&&i.a.commit(c.a,JSON.parse(sessionStorage.userInfo)),n.a=s},49:function(t,n,o){o(116);var e=o(50)(o(88),o(118),null,null);t.exports=e.exports},84:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=o(16),a=o(48),i=o.n(a),c=o(25),s=o.n(c),r=o(47),u=o(49),l=o.n(u),p=o(26);s.a.defaults.baseURL="https://cnodejs.org/api/v1",e.a.prototype.$http=s.a,i.a.attach(document.body),e.a.config.productionTip=!1,new e.a({router:r.a,store:p.a,render:function(t){return t(l.a)}}).$mount("#app-box")},85:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),o.d(n,"toogleTab",function(){return r}),o.d(n,"fetchTopicList",function(){return u}),o.d(n,"updateScrollTop",function(){return l}),o.d(n,"setIsLoading",function(){return p}),o.d(n,"login",function(){return f}),o.d(n,"logOut",function(){return d}),o.d(n,"getUserInfo",function(){return b});var e=o(89),a=o.n(e),i=o(25),c=o.n(i),s=o(13);c.a.defaults.baseURL="https://cnodejs.org/api/v1";var r=function(t,n){var o=t.dispatch,e=t.commit,a=t.state;e(s.c,n),console.log("要显示的tab:"+n.tab),console.log("要显示tab的数组长度:"+a.topic.topicLists[n.tab].data.length),0===a.topic.topicLists[n.tab].data.length&&o("fetchTopicList")},u=function(t){var n=t.dispatch,o=t.commit,e=t.state;n("setIsLoading");var i=e.topic.tabs.filter(function(t){return t.isActive})[0];return new a.a(function(t,a){c.a.get("/topics",{params:{page:e.topic.topicLists[i.tab].page,tab:i.tab,limit:15,mdrender:!0}}).then(function(e){e.data.success&&(o(s.d,{tab:i.tab,list:e.data.data}),t(e)),n("setIsLoading")}).catch(function(t){n("setIsLoading"),a(t)})})},l=function(t,n){(0,t.commit)(s.e,n)},p=function(t){(0,t.commit)(s.f)},f=function(t,n){var o=t.commit;return new a.a(function(t,e){c.a.post("/accesstoken",{accesstoken:n}).then(function(e){var a=e.data;o(s.a,{id:a.id,token:n,loginname:a.loginname,avatar_url:a.avatar_url}),t()}).catch(function(t){e(t)})})},d=function(t){(0,t.commit)(s.b)},b=function(t,n){t.commit;return c.a.get("/user/"+n)}},86:function(t,n,o){"use strict";var e,a=o(38),i=o.n(a),c=o(13),s={tabs:[{tab:"all",label:"全部",icon:"icon-all",isActive:!0},{tab:"good",label:"精华",icon:"icon-good",isActive:!1},{tab:"share",label:"分享",icon:"icon-share",isActive:!1},{tab:"job",label:"招聘",icon:"icon-job",isActive:!1},{tab:"ask",label:"问答",icon:"icon-ask",isActive:!1}],topicLists:{all:{data:[],page:1,scrollTop:0},good:{data:[],page:1,scrollTop:0},share:{data:[],page:1,scrollTop:0},job:{data:[],page:1,scrollTop:0},ask:{data:[],page:1,scrollTop:0}},isLoading:!1},r={tabs:function(t){return t.tabs},topicList:function(t){return t.topicLists},isLoading:function(t){return t.isLoading}},u=(e={},i()(e,c.c,function(t,n){t.tabs[n.current].isActive=!1,t.tabs[n.new].isActive=!0}),i()(e,c.d,function(t,n){t.topicLists[n.tab].data=t.topicLists[n.tab].data.concat(n.list),t.topicLists[n.tab].page++}),i()(e,c.e,function(t,n){t.topicLists[n.tab].scrollTop=n.scrollTop}),i()(e,c.f,function(t){t.isLoading=!t.isLoading}),e);n.a={state:s,getters:r,mutations:u}},87:function(t,n,o){"use strict";var e,a=o(38),i=o.n(a),c=o(51),s=o.n(c),r=o(13),u={userInfo:null},l={userInfo:function(t){return t.userInfo}},p=(e={},i()(e,r.a,function(t,n){sessionStorage.setItem("userInfo",s()(n)),t.userInfo=n}),i()(e,r.b,function(t){sessionStorage.removeItem("userInfo"),t.userInfo=null}),e);n.a={state:u,getters:l,mutations:p}},88:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"app",data:function(){return{transitionName:"slide-right"}},watch:{$route:function(t,n){var o=this.$router.isBack;this.transitionName=o?"slide-right":"slide-left",this.$router.isBack=!1}}}}},[84]);